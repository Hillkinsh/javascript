# 比特币账本

## 比特币账本

可以被认为是一个状态转换系统。系统包括所有现存的比特币所有权状态和“状态转换函数”。

```
APPLY(S,TX) ­> S' or ERROR

APPLY({ Alice: $50, Bob: $50 },"send $20 from Alice to Bob") = { Alice: $30,Bob: $70 }

APPLY({ Alice: $50, Bob: $50 },"send $70 from Alice to Bob") = ERROR
```

比特币系统的“状态”是所有已经被挖出的、没有花费的比特币(未花费的交易输出,unspent transaction outputs 或UTXO)的集合。

每个UTXO都有一个面值和所有者（由20个字节的本质上是密码学公钥的地址所定义）。
一笔交易包括一个或多个输入和一个或多个输出。
每个输入包含一个对现有UTXO的引用和由与所有者地址相对应的私钥创建的密码学签名。
每个输出包含一个新的加入到状态中的UTXO。

共识系统：

比特币的去中心化共识进程要求网络中的节点不断尝试将交易打包成“区块”。
网络被设计为大约每十分钟产生一个区块，
每个区块包含
  一个时间戳
  一个随机数
  一个对上一个区块的引用（即哈希）
  上一区块生成以来发生的所有交易列表。

这样随着时间流逝就创建出了一个持续增长的区块链，它不断地更新，从而能够代表比特币账本的最新状态。