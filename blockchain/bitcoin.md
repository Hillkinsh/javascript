# 概念

## 1.电子货币：

一枚电子货币就是一条数字签名链

拥有者：

下一个拥有者：

转移：上次交易的哈希和下一个拥有者的哈希的“数字签名”添加到币的末尾。可以理解为转移就是给当前币添加拥有者的签名。

验证：收款人通过验证数字签名，来证实为该链的所有者。

## 存在的可能问题：

1.拥有者拿该币做了双重支付。


## 铸币模型

引入一个可信任的中央机构，来检查每笔交易是否是双重支付。每笔交易后，都需要将币交给铸币厂，铸币厂重新发售新币。只有铸币厂发行的新币才能被确认没有被双重支付。


## 3.时间戳服务器

我们提出的解决方案从时间戳服务器开始。

时间戳服务器，给需要加时间戳的项目打哈希值，并广播该哈希值。

时间戳能证明该数据当时一定存在过，因为能打出哈希值。

每个时间戳都纳入了上一个时间戳，形成一条链，后面的时间戳进一步增强之前的时间戳。

## 4.工作量证明

工作量证明采取搜索一个数，使得被哈希时，得到的哈希值以数个0 比特开始。平均所需工作量将随所需 0 比特呈指数级增长而验证却只需执行一次哈希。

对于我们的时间戳网络，我们通过在区块中加入一个随机数，该值为块的哈希提供所需的零位。
当CPU计算出该随机值，满足了工作量的证明后，除非重做这个区块，否则无法更改。

由于后面的区块是链接在这个区块后面的，重做这个区块就需要重做后面所有的区块。

## 5. 运行网络步骤

0。 节点和区块的区别是什么

1. 将交易向所有的节点广播。

2. 每个节点将交易收集到一个块中。

3. 每个节点为这个块计算工作量证明。

4. 当一个节点找到了工作量证明，向所有节点广播这个区块。

5.只有当所有包含其中的交易有效且未支付的区块才会被节点接受。

6.节点通过使用这个区块的哈希值作为上一个哈希值在链中创建下一个区块的方式来表示对这个区块的接受。

### 5.1 同时广播区块

节点总是认为最长的链正确并持续延长它。如果两个节点同时广播了不同的下一个区块，有些节点可能先收到其中一个而其他节点先收到另一个。

这种情况，节点基于他们收到的**第一个**区块工作，但是也保存另一个分支以防它变为更长的链。当下一个工作量证明被找到后僵局就会被打破从而其中一个分支变得更长；**在另一个分支上工作的节点将切换到更长的链上来**。

### 5.2 丢失容错

新交易的广播不必到达所有的节点。只要到达一些节点，不久就会进入到一个区块。
区块广播也是能容忍消息丢失的。如果一个节点没有收到某个区块，它将在收到下一个区
块时发现它丢失了一个区块然后去请求这个区块。

## 6.激励

按照惯例，区块中的第一笔交易是一项特殊交易，它启动了区块创建者拥有的一枚新的币。